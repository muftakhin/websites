<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM</title>
    <link rel="stylesheet" href="../../styles/section.css">
</head>
<body class="page">
    <header class="header">
        <h1 class="header__title">DOM</h1>
    </header>
    <article class="article">
        <section class="section">
            <h2 class="section__header">window</h2>

            <p class="text">
                - внутреннее представление страницы в браузере
            </p>

            <p class="text">
                &bull; Глобальный объект, занимается окном, внутри которого DOM-дерево<br>
                &bull; Т.к. объект <strong>window</strong> действует как глобальная среда, любые имена свойств или методов данного объекта разрешается указывать без указания перед ними слова window<br>
                &bull; Любые глобальные переменные, которые вы определяете, помещаются в пространство имён <strong>window</strong>, так что вы можете ссылаться на них следующим образом: <strong>window.имя_переменной</strong>
            </p>

            <div class="subsection">
                <h3 class="subsection__header">Закрытие всплывающего окна при нажатии клавиши <strong>Esc</strong> на клавиатуре</h3>

                <pre class="screen screen_post">
window.addEventListener("keydown", function(evt) {
    if (evt.keyCode === 27) {
        if (popup.classList.contains("modal_show")) {
            popup.classList.remove("modal_show")
        }
    }
});</pre>
            </div>

            <div class="subsection">                    
                <h3 class="subsection__header">Свойства объекта window</h3>

                <p class="text">
                    <strong>location</strong> - содержит URL-адрес страницы<br>
                    <strong>status</strong> - содержит строку отображающуюся в статусной строке<br>
                    <strong>onload</strong> - содержит функцию, вызываемую после полной загрузки страницы<br>
                    <strong>document</strong> - содержит объектную модель документа (DOM)
                </p>

                <div class="subsection__item">
                    <h4 class="subsection__item-header">window.onload</h4>

                    <p class="text">
                        - выполнение кода после загрузки страницы
                    </p>

                    <p class="text">
                        Присваивая свойству <strong>window.onload</strong> функции мы можем гарантировать, что код в теле функции не будет выполняться до тех пор, пока загрузув страницы не закончится и ибъектная модель документа не будет полностью сгенерирована
                    </p>
                    <pre class="screen screen_pre">
window.onload = function() {
    ...
};</pre>
                    <p class="text">
                        Другой вариант:
                    </p>
                        <pre class="screen screen_pre">
function name_1() {
    ...
}

window.onload = name_1;</pre>
                    <p class="text">
                        &bull; Перед <strong>onload</strong> указываем <strong>window.</strong>, ибо существует масса других объектов, имеющих свойство <strong>onload</strong><br>
                        &bull; Если вместо <strong>window.onload = name_1;</strong> (присвоение значения функции свойству <strong>onload</strong>) указать <strong>window.onload = name_1();</strong>, то этим скажем, что хотим вызвать функцию <strong>name_1</strong>. А так мы просто связываем функцию <strong>name_1</strong> c <strong>window.onload</strong>
                    </p>
                </div>
            </div>

            <div class="subsection">
                <h3 class="subsection__header">Методы объекта window</h3>

                <p class="text">
                    <strong>alert</strong> - выводит соответствующее диалоговое окно<br>
                    <strong>prompt</strong> - получает информацию от пользователя<br>
                    <strong>open</strong> - открывает новое окно браузера<br>
                    <strong>close</strong> - закрывает окно<br>
                    <strong>setTimeout</strong> - вызывает обработчик по истечении заданного интервала времени<br>
                    <strong>setInterval</strong> - многократно вызывает обработчик через заданный интервал времени
                </p>
            </div>
        </section>

        <section class="section">
            <h2 class="section__header">document</h2>

            <p class="text">
                &bull; Является свойством объекта <strong>window</strong>
                &bull; Глобальный объект<br>
                &bull; Корневой элемент дерева DOM
            </p>

            <div class="subsection">
                <h3 class="subsection__header">Свойства объекта document</h3>
                    
                <p class="text">
                    <strong>domain</strong> - домен сервера, с которого загружается документ, например bestsite.com<br>
                    <strong>title</strong> - может использоваться для извлечения заголовка документа, для чего нужно указать document.title<br>
                    <strong>URL</strong> - URL-адрес документа
                </p>
            </div>

            <div class="subsection">
                <h3 class="subsection__header">Методы объекта document</h3>

                <p class="text">
                    <strong>getElementById</strong> - позволяет извлекать элемент в соответствии с его идентификатором<br>
                    <strong>getElementsByTagName</strong> и <br>
                    <strong>getElementsByClassName</strong> - позволяют извлекать элементы в соответствии с миенами тегов и классов<br>
                    <strong>createElement</strong> - генерирует элемент, подходящий для включения в DOM
                </p>

                <p class="text">
                    Элементы, которые возвращают методы вроде <strong>getElementById</strong> также являются объектами
                </p>
            </div>
        </section>

        <section class="section">
            <h2 class="section__header">Объект элемента</h2>

            <div class="subsection">
                <h3 class="subsection__header">Свойства элемента (объекта элемента), например элемента &lt;p&gt;</h3>

                <p class="text">
                    <strong>innerHTML</strong> - с его помощью можем изменить содержимое элемента<br>
                    <strong>childElementCount</strong> - количество дочерних элементов<br>
                    <strong>firstChild</strong> - первый дочерний элемент (если есть)<br>
                </p>
            </div>

            <div class="sunsection">
                <h3 class="sub2section__header">Методы элемента (объекта элемнта)</h3>
                    
                <p class="text">
                    <strong>appendChild</strong> и<br>
                    <strong>insertBefore</strong> - используются для вставки новых элементов в DOM<br>
                    <strong>setAttribute</strong> и<br>
                    <strong>getAttribute</strong> - используются для задания и извлечения атрибутов, таких как src, class и id
                </p>
            </div>
        </section>

        <section class="section">
            <h2 class="section__header">Методы DOM</h2>

            <div class="subsection">
                <h3 class="subsection__header">.getElementById() (es5)</h3>
    
                <p class="text">
                    &bull; <strong>.getElementById()</strong> принимает аргумент в виде значения <strong>id</strong> элемента и возвращает объект элемента<br>
                    &bull; Применяется во всех случаях, когда необходимо найти элемент на текущей странице
                    &bull; Позволяет получить доступ к любому элементу HTML по id<br>
                    &bull; Если элемент с таким идентификатором отсутствует, то <strong>.getElementById()</strong> вернёт <strong>null</strong>
                </p>
                <pre class="screen screen_pre">
let name_1 = document.getElementById("name_2");</pre>
                <p class="text">
                    &bull; Присваиваем элемент с данным <strong>id="name_2"</strong> переменной <strong>name_1</strong><br>
                    &bull; Теперь можем использовать переменную <strong>name_1</strong> для ссылки на соответствующий элемент
                </p>
            </div>

            <div class="subsection">               
                <h3 class="subsection__header">.innerHTML</h3>
        
                <p class="text">
                    &bull; С помощью свойства <strong>.innerHTML</strong> можем изменить содержимое элемента:<br>
                    &bull; <strong>.innerHTML</strong> представляет всё содержимое элемента, включая вложенные элементы
                </p>
                <pre class="screen screen_pre">
name_1.innerHTML = "Содержимое элемента";</pre>

                <p class="text">
                    Или вывести его содержимое:
                </p>
                <pre class="screen screen_pre">
console.log(name_1.innerHTML);</pre>
            </div>

            <div class="subsection">               
                <h3 class="subsection__header">.outerHTML</h3>
        
                <p class="text">
                    &bull; <strong>.outerHTML</strong> возвращает элемент и всю разметку внутри него
                </p>
            </div>

            <div class="subsection">
                <h3 class="subsection__header">.getElementsByClassName() (es5)</h3>
    
                <pre class="screen screen_pre">
let name_1 = document.getElementsByClassName("name_2");</pre>
                <p class="text">
                    &bull; 
                </p>
            </div>

            <div class="subsection">
                <h3 class="subsection__header">.getElementsByTagName() (es5)</h3>
    
                <pre class="screen screen_pre">
let name_1 = document.getElementsByTagName("name_2");</pre>
                <p class="text">
                    &bull; 
                </p>
            </div>

            <div class="subsection">
                <h3 class="subsection__header">.querySelector()</h3>

                <p class="text">
                    - возвращает первый элемент DOM соответствующий селектору
                </p>

                <pre class="screen screen_pre">
document.querySelector("css_selector");</pre>
                <pre class="screen screen_post">
document.querySelector(".menu");</pre>
                <p class="text">
                    <strong>document</strong> - объект, внутри которого производится поиск<br>
                    <strong>css_selector</strong> - css селектор
                </p>

                <pre class="screen screen_pre">
let name_1 = document.querySelector("css_selector");</pre>
                <pre class="screen screen_post">
let imageSmall = document.querySelector('#img_320px');</pre>
            </div>

            <div class="subsection">
                <h3 class="subsection__header">.querySelectorAll</h3>

                <p class="text">
                    Возвращает все элементы DOM соответствующие селектору в виде массива
                </p>

                <div class="subsection__item">
                    <h4 class="subsection__item-header">Слайдер с использованием .querySelectorAll</h4>

                    <pre class="screen screen_post">
let btn_prev = document.querySelectorAll('.gallery__btn_prev');
let btn_next = document.querySelectorAll('.gallery__btn_next');

let images = document.querySelectorAll('.images__image');

let i = 0;

btn_prev.onclick = function() {
    images[i].style.display = 'none';
    i--;

    if(i &lt; 0) {
        i = images.length - 1;
    }

    images[i].style.display = 'block';
};

btn_next.onclick = function() {
    images[i].style.display = 'none';
    i++;

    if(i &gt; images.length) {
        i = 0;
    }

    images[i].style.display = 'block';
};</pre>
                </div>
            </div>

            <div class="subsection">
                <h3 class="subsection__header">.setAttribute()</h3>

                <p class="text">
                    - вызывается для создания атрибута
                </p>

                <pre class="screen screen_pre">
name_1.setAttribute("name_2", "volume_1");</pre>
                <p class="text">
                    <strong>name_1</strong> - объект <strong>element</strong><br>
                    <strong>name_2</strong> - имя атрибута<br>
                    <strong>volume_1</strong> - значение атрибута
                </p>
                <p class="text">
                    &bull; Если атрибут <strong>name_2</strong> есть, то поменяется его значение<br>
                    &bull; А если такого атрибута нет, то он появится
                </p>
            </div>

            <div class="subsection">
                <h3 class="subsection__header">.getAttribute()</h3>

                <p class="text">
                    - вызывается для получения значения атрибута
                </p>

                <pre class="screen screen_pre">
name_1.setAttribute("name_2");</pre>
                <p class="text">
                    <strong>name_1</strong> - объект <strong>element</strong><br>
                    <strong>name_2</strong> - имя атрибута, значение которого хотим получить
                </p>
            </div>

            <div class="subsection">
                <h3 class="subsection__header">.preventDefault()</h3>

                <p>Отмена действия по умолчанию</p>

                <p class="text">
                    <strong>lnkevent.preventDefault();</strong> - отменяет переход по ссылке (как действие по умолчанию элемента с селектором <strong>.button_link</strong> )
                </p>
            </div>

            <div class="subsection">
                <h3 class="subsection__header">.classList.</h3>

                <p class="text">
                    - набор методов для управления классами
                </p>

                <div class="subsection__item">
                    <h4 class="subsection__item-header">.classList.add()</h4>

                    <p class="text">
                        - добавление класса
                    </p>

                    <pre class="screen screen_pre">
name_1.classList.add("class_1");</pre>
                    <p class="text">
                        <strong>name_1</strong> - элемент, которому добавляем класс<br>
                        <strong>class_1</strong> - имя добавляемого класса (записывается без точки)
                    </p>
                    <pre class="screen screen_pre">
let name_1 = document.querySelector('css-selector_1');
name_1.classList.add("class_1");</pre>

                    <p class="text">
                        &bull; Создаём предварительно в CSS класс <strong>class_1</strong> с необходимыми свойствами<br>
                        &bull; Элементу <strong>element_1</strong> добавляется класс <strong>class_1</strong>. Если у элемента <strong>element_1</strong> имеются классы, то новый класс добавляется в список последним
                    </p>

                    <p class="text">
                        <strong>Пример:</strong><br>
                        Открытие окна
                    </p>
                    <pre class="screen screen_post">
let buttonLink = document.querySelector(".button_link");
let popup = document.querySelector(".sale_popup");

buttonLink.addEventListener("click", function(lnkEvent){
lnkEvent.preventDefault();
popup.classList.add("sale_popup_show")
});</pre>
                </div>

                <div class="subsection__item">
                    <h4 class="subsection__item-header">.classList.remove()</h4>

                    <p class="text">
                        - удаляет класс
                    </p>
                    
                    <p class="text">
                        <strong>Пример:</strong>
                        Закрытие окна
                    </p>
                    <pre class="screen screen_post">
let closePopup = document.querySelector(".sale_popup_close");

close.addEventListener("click", function(lnkEvent){
lnkEvent.preventDefault();
popup.classList.remove("sale_popup_show");
});</pre>
                </div>
                
                <div class="subsection__item">
                    <h4 class="subsection__item-header">.classList.toggle()</h4>

                    <pre class="screen screen_pre">
const name_1 = document.querySelector('.name_2');
name_1.addEventListener('click', () => {
name_1.classList.toggle(.name_3);
});
                    </pre>
                    <p class="text">
                        - переключает класс
                    </p>
                </div>

                <div class="subsection__item">
                    <h4 class="subsection__item-header">.classList.cotains()</h4>

                    <p class="text">
                        - сообщает, есть ли у элемента класс
                    </p>

                    <p class="text">
                        Возвращает булево значение
                    </p>
                </div>
            </div>

            <div class="subsection">
                <h3 class="subsection__header">.focus()</h3>
                
                <p class="text">
                    - наводит фокус на элемент
                </p>
                
                <pre class="screen screen_pre">
элемент.focus();</pre>

                <div class="subsection__item">
                    <div class="subsection__item-header">Пример всплывающего окна</div>

                    <pre class="screen screen_post">
&lt;script&gt;

let link = document.querySelector(".login-link");
let popup = document.querySelector(".modal-login");
let close = popup.querySelector(".modal-close");
let form = popup.query.Selector("form");
let login = popup.querySelector("[name=login]");
let password = popup.querySelector("name=password");
let storage = localStorage.getItem("login");

link.addEventListener("click", function(evt){
evt.preventDefault();
popup.classList.add("modal-show")
if (storage) {
    login.value = storage;
    password.focus();
} else {
    login.focus();
}
});

close.addEventListener("click", function(evt){
evt.preventDefault();
popup.classList.remove("modal-show");
popup.classList,remove("modal-error");
});

form.addEventListener("submit", function(evt) {
if(!login.value || !password.value) {
    evt.preventDefault();
    popup.classList.add("modal-error");
} else {
    localStorage.setItem("login", login.value)
});

window.addEventListener("keydown", function(evt) {
if (evt.keyCode === 27) {
    if (popup.classList.contains("modal-show")) {
        popup.classList.remove("modal-show")
    }
}
});

&lt;&frasl;script&gt;

+ CSS code:

&lt;style&gt;

@keyframes shake {
0%, 100% { transform: translateX(0); }
10%, 30%, 50%, 70%, 90% { transform: translateX(-10px); }
20%, 40%, 60%, 80% { transform: translateX(10px); }
}

.modal-error {
animation-name: shake;
animation-duration: 0,6s;
}

&lt;&frasl;style&gt;</pre>
                </div>

                <div class="subsection">
                    <h3 class="subsection__header">.createElement()</h3>
                    <p class="text">- cоздание нового элемента</p>
    
                    <pre class="screen screen_pre">
    let element_name = document.createElement("element");
    element_name.innerHTML = content_name;</pre>
                </div>
    
                <div class="subsection">            
                    <h3 class="subsection__header">.appendChild()</h3>
                    <p class="text">
                        - добавление элемента в DOM
                    </p>
    
                    <pre class="screen screen_pre">
    let element_name = document.createElement("element");
    element_name.innerHTML = content_name;
    
    let parent_element = document.getElementById("parent_Id");
    parent_element.appendChild(element_name);</pre>
                </div>
    
                <div class="subsection">
                    <h3 class="subsection__header">Обработчик событий onclick</h3>
    
                    <pre class="screen screen_pre">
    let name = document.getElementById("button");
    name.onclick = instructions;
    function instructions() {
        ...
    }</pre>
                    <p class="text">
                        Получив элемент DOM с id="button", задаём для свойства <strong>onclick</strong> функцию <strong>instructions</strong>
                    </p>
    
                    <pre class="screen screen_post">
    let colorRed = document.querySelector('.menu__item');
    colorRed.onclick = function() {
        .menu__item.style.color = 'red';
    };</pre>
                    <p class="text">
                        Элементу DOM с атрибутом <strong>class="menu__item"</strong> задаём свойству <strong>color:</strong> значение <strong>red</strong>;
                    </p>
                </div>
            </div>
        </section>

        <section class="section">
            <h2 class="section__header">Обработчики события (функции обратного вызова)</h2>

            <div class="subsection">
                <h3 class="subsection__header">.addEventListener()</h3>

                <p class="text">
                    - отлавливает событие элемента и выполняет переданную функцию
                </p>

                <pre class="screen screen_pre">
name_1.addEventListener("событие", function(){});</pre>

                <p class="text">
                    <strong>name_1</strong> - имя элемента у которого отслеживается событие
                </p>

                <div class="subsection__item">
                    <h4 class="subsection__item-header">События отслеживаемые</h4>

                    <ul class="text-list text-list_horizontal">
                        <li class="text-list__item">
                            <div class="text-list__header">Мыши</div>
                            <ul>
                                <li class="text-list__item">mouseenter</li>
                                <li class="text-list__item">mouseover</li>
                                <li class="text-list__item">mousemove</li>
                                <li class="text-list__item">mousedown</li>
                                <li class="text-list__item">mouseup</li>
                                <li class="text-list__item">click</li>
                                <li class="text-list__item">dblclick</li>
                                <li class="text-list__item">contextmenu</li>
                                <li class="text-list__item">wheel</li>
                                <li class="text-list__item">mouseleave</li>
                                <li class="text-list__item">mouseout</li>
                                <li class="text-list__item">select</li>
                            </ul>
                        </li>

                        <li class="text-list__item">
                            <div class="text-list__header">Клавиатуры</div>
                            <ul>
                                <li class="text-list__item">keydown</li>
                                <li class="text-list__item">keypress</li>
                                <li class="text-list__item">keyup</li>
                            </ul>
                        </li>

                        <li class="text-list__item">
                            <div class="text-list__header">Фокуса</div>
                            <ul>
                                <li class="text-list__item">focus</li>
                                <li class="text-list__item">blur</li>
                            </ul>
                        </li>

                        <li class="text-list__item">
                            <div class="text-list__header">Формы</div>
                            <ul>
                                <li class="text-list__item">reset</li>
                                <li class="text-list__item">submit</li>
                            </ul>
                        </li>

                        <li class="text-list__item">
                            <div class="text-list__header">Сетевые</div>
                            <ul>
                                <li class="text-list__item">online</li>
                                <li class="text-list__item">offline</li>
                            </ul>
                        </li>

                        <li class="text-list__item">
                            <div class="text-list__header">Другие</div>
                            <ul>
                                <li class="text-list__item">transitionend</li>
                            </ul>
                        </li>
                    </ul>
                </div>

                <pre class="screen screen_post">
let buttonIn = document.querySelector(".button_in");

buttonIn.addEventListener("click", function(){
    cosole.log("Кнопка нОжата нажАта!");
});</pre>
                <pre class="screen screen_pre">
name_1.addEventListener("событие", function(name_2){});</pre>
                                                    
                <p class="text">
                    <strong>name_1</strong> - имя элемента у которого отслеживается событие<br>
                    <strong>name_2</strong> - имя объекта события
                </p>
    
                <pre class="screen screen_post">
let buttonLink = document.querySelector(".button_link");
    
buttonLink.addEventListener("click", function(lnkevent){
    lnkevent.preventDefault();
    cosole.log("Кнопка нОжата нажАта!");
});</pre>
            </div>

            <div class="subsection">
                <h3 class="subsection__header">.removeEventListener()</h3>

                    <p class="text">
                        - удаление слушателя событий
                    </p>

                    <pre class="screen screen_pre">
let name_1 = document.querySelector('.css_selector_1');
let name_2 = document.querySelector('.css_selector_2');

name_1.addEventListener('name_event', function() {
    name_2. ... ;

    let name_3 = function() {
        ...
        name_2.removeEventListener('transitionend', name_3);
    };

    name_2.addEventListener('transitionend', name_3);
});</pre>
            </div>
        </section>
    </article>
</body>
</html>